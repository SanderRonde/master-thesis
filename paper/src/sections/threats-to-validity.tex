\chapter{Threats to Validity}\label{chap:threats-to-validity}

In this chapter, we will be covering threats to the validity of this study. Firstly we will discuss the internal validity, after which we will discuss the external validity of the study.

\section{Internal Validity}
Possible internal threats to validity would be the measurement of our metrics being influenced by external factors. As described in Section~\ref{sec:experimental-setup:load-time} we explicitly remove the factor of network speed from our benchmarks. This leaves only the factor of available system resources as a possible variable. In order to eliminate this factor, we took several steps. We first ensured a clean testing environment by shutting down all unneeded background processes on the test machine. This should vastly reduce the amount of fluctuation in available system resources. Secondly, we ensured that only a single test is running at a time. This means every test has the entire computer to itself (in practice, likely a single core) and does not compete with other tests for system resources. Lastly, we apply all the steps described in Section~\ref{sec:experimental-setup:time-sensitive-metrics} which includes randomizing the order in which the tests are run and increasing the number of tests to \numMeasures{} measurements per test. This should ensure that any possible fluctuations are smoothed out and shared across all tests.

\section{External Validity}
A large number of problems in this case study faced applied to Web Components in general, as shown in Section~\ref{sec:web-component-issues}. Still, a significant share of the problems is related to Angular, more specifically Angular 10. Likewise, a significant part of them is specific to the 30MHz codebase. Given a different codebase or a different Angular version, different problems might be faced in the process of converting Angular components to Web Components. While the issues might differ from framework to framework or even from Angular version to Angular version, the results should be generalizable to other frameworks and Angular versions. Bugs we encountered are likely to be fixed, and performance is likely to only improve in future Angular versions, as has been the case with the Angular Ivy compiler~\footurl{https://angular.io/guide/ivy}. Additionally, a significant amount of the faced problems apply to Web Components in general, as shown in Section~\ref{sec:web-component-issues}. For this reason, we believe that the feasibility of the applied process will at worst stay the same and at best improve for other Angular versions or JS frameworks.
Further, while the specific UI library we created is dependent mainly on the 30MHz codebase and its specific architecture and contents, we make sure to compare the created CC UI libraries with the original 30MHz codebase itself, ensuring all results are relative to the original. This should ensure we answer the research question for a generalized case. If we were to compare the CC UI library solely to other UI libraries, the answer to the research question would only apply to the case of 30MHz.